-- =====================================================
-- GTM 초기 데이터 삽입 스크립트
-- =====================================================
-- 작성일: 2025-01-21
-- 설명: GTM_data.csv 파일의 초기 데이터를 gtm_customers 테이블에 삽입
-- =====================================================

-- 기존 데이터 확인 (선택사항)
-- SELECT COUNT(*) FROM gtm_customers;

-- =====================================================
-- 초기 데이터 삽입
-- =====================================================

INSERT INTO gtm_customers (
  customer_name,
  customer_id,
  business_number,
  headquarters,
  department_head,
  division,
  team,
  sales_representative
) VALUES
  ('주식회사 디아이씨', '1-MZMDWQ', '6208110295', '부산/경남법인고객본부', '경남법인고객담당', '법인고객영업3부', '법인고객영업2팀', '박승일'),
  ('북파주농협협동조합', 'L0000031947', '1288200056', '강북/강원법인고객본부', '북부법인고객1담당', '법인고객영업4부', '법인고객영업2팀', '박순호'),
  ('한국정보인증(주)', 'L0001774039', '1108141568', '강북/강원법인고객본부', '북부법인고객1담당', '법인고객영업2부', '법인고객영업1팀', '현기창'),
  ('영양고추유통공사', 'L0000049197', '5088120227', '대구/경북법인고객본부', '경북법인고객담당', '법인고객영업1부', '법인고객영업1팀', '권항구'),
  ('고령컨트리클럽주식회사', 'L0000032613', '5148141848', '대구/경북법인고객본부', '대구법인고객담당', '법인고객영업3부', '법인고객영업2팀', '김종호'),
  ('신한모방', 'L0000015343', '3038102793', '충남/충북법인고객본부', '충북법인고객담당', '법인고객영업2부', '법인고객영업2팀', '김동권'),
  ('가연결혼정보(주)', 'L0000024166', '2208728068', '강남법인고객본부', '서울남부법인고객담당', '법인고객영업2부', '법인고객영업4팀', '신광식'),
  ('동아연필주', 'L0000025330', '3068500278', '충남/충북법인고객본부', '충남법인고객담당', '법인고객영업2부', '법인고객영업2팀', '정희윤'),
  ('다우닝산업(주)수동공장', 'L0000009619', '1198111979', '강북/강원법인고객본부', '북부법인고객2담당', '법인고객영업4부', '법인고객영업2팀', '강석원'),
  ('(주)썬앳푸드', 'L0000032050', '2118636456', '강북/강원법인고객본부', '북부법인고객1담당', '법인고객영업3부', '법인고객영업3팀', '김세령'),
  ('다산네트윅스', 'L0000007589', '1298116613', '강남법인고객본부', '경기남부법인고객담당', '법인고객영업2부', '법인고객영업3팀', '안태근'),
  ('(주)고려제지', 'L0000021429', '1338122400', '서부법인고객본부', '서부법인고객1담당', '법인고객영업4부', '법인고객영업2팀', '박용덕'),
  ('(주)심심이', 'L0000034637', '2118729442', '강남법인고객본부', '서울남부법인고객담당', '법인고객영업2부', '법인고객영업1팀', '김문호'),
  ('탑솔라(주)', 'L0000367413', '4088154131', '전남/전북법인고객본부', '전남법인고객담당', '법인고객영업1부', '법인고객영업팀', '선현규'),
  ('글로리아교육재단(주)', 'L0000239786', '2048602749', '강북/강원법인고객본부', '북부법인고객2담당', '법인고객영업2부', '법인고객영업2팀', '조세후'),
  ('에스엠싸이크로코리아(주)', 'L0000034519', '1028141868', '강북/강원법인고객본부', '북부법인고객1담당', '법인고객영업3부', '법인고객영업1팀', '남상욱'),
  ('서울특별시강서구시설관리공단', 'L0000034872', '1098206670', '서부법인고객본부', '서부법인고객2담당', '법인고객영업1부', 'IT섹터영업팀', '서현오'),
  ('장로회신학대학교', 'L0000034550', '2078200311', '강북/강원법인고객본부', '북부법인고객2담당', '법인고객영업1부', '법인고객영업1팀', '양재희')
ON CONFLICT (customer_id) DO UPDATE SET
  customer_name = EXCLUDED.customer_name,
  business_number = EXCLUDED.business_number,
  headquarters = EXCLUDED.headquarters,
  department_head = EXCLUDED.department_head,
  division = EXCLUDED.division,
  team = EXCLUDED.team,
  sales_representative = EXCLUDED.sales_representative,
  updated_at = NOW();

-- =====================================================
-- 데이터 검증
-- =====================================================

-- 삽입된 데이터 수 확인
SELECT COUNT(*) AS total_customers FROM gtm_customers;

-- 본부별 고객 수 확인
SELECT 
  headquarters,
  COUNT(*) AS customer_count
FROM gtm_customers
GROUP BY headquarters
ORDER BY customer_count DESC;

-- 팀별 고객 분포 확인
SELECT 
  team,
  COUNT(*) AS customer_count
FROM gtm_customers
GROUP BY team
ORDER BY customer_count DESC;

-- =====================================================
-- 샘플 데이터 업데이트 (선택사항)
-- =====================================================
-- 일부 고객에 대해 추가 정보를 입력하는 예시

-- 다산네트윅스: 네트워크 장비 업체로 글로벌 사업 가능성 높음
UPDATE gtm_customers 
SET 
  overseas_presence_2025 = true,
  other_global_data_usage = true,
  other_provider_name = 'NTT',
  other_monthly_fee = 0.5,
  renewal_date = '2025-06-30',
  usage_intl_dedicated_mpls = true,
  customer_needs = '아시아 지역 네트워크 확장 필요, 현재 타사 서비스 품질 불만족',
  notes = '일본, 중국, 베트남 지사 운영중',
  priority = 'high',
  opportunity_value = 2.5,
  win_probability = 70
WHERE customer_id = 'L0000007589';

-- 한국정보인증: IT 서비스 업체
UPDATE gtm_customers 
SET 
  kt_global_data_usage_2025 = true,
  kt_contract_period = '2023-01-01 ~ 2025-12-31',
  kt_monthly_fee = 0.3,
  customer_needs = '보안 강화된 국제 전용선 필요',
  notes = '싱가포르 데이터센터 연결 필요',
  priority = 'medium'
WHERE customer_id = 'L0001774039';

-- =====================================================
-- 완료 메시지
-- =====================================================
-- 초기 데이터 삽입이 완료되었습니다.
-- 전체 고객 수와 분포를 확인하세요.